(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{W6ke:function(n,t,o){"use strict";o.r(t);var l=o("CcnG"),e=o("ZZ/e"),i=(o("vlXg"),o("1ZaN")),r=function(){function n(n,t,o,l,e,i,r){this.app=n,this.router=t,this.utilService=o,this.configService=l,this.userService=e,this.wxService=i,this.workflowService=r,this.segmentedTitles=["\u6211\u7684\u5f85\u529e","\u6211\u7684\u5df2\u529e"],this.selectedTitle=this.segmentedTitles[0],this.items=[],this.keyword=""}return n.prototype.keywordChange=function(n){this.keyword=n.target.value},n.prototype.searchKeyWord=function(){console.debug(this.keyword);var n=this.isToDo();this.utilService.routeToBySkipLocation("/workflowList",{title:"",isToDo:n,searchParams:{startUser:"",content:this.keyword,pgmId:"",tblName:"",startDtm:"",endDtm:"",type:1}},!0)},n.prototype.ngOnInit=function(){this.loadData(null),this.wxService.configed||this.wxService.config(!1)},n.prototype.ionViewDidEnter=function(){document.title="\u6d41\u7a0b\u5ba1\u6279",this.groups&&this.loadData({target:{complete:function(){}}})},n.prototype.ionViewWillEnter=function(){this.utilService.pushHistory()},n.prototype.isToDo=function(){return"\u6211\u7684\u5f85\u529e"==this.selectedTitle},n.prototype.closeWindow=function(){},n.prototype.selectedItem=function(n){var t=this;this.utilService.showLoad().then(function(o){var l=null;l="\u6211\u7684\u5f85\u529e"==n?t.workflowService.getWorkFlowTodoList(t.userService.getUserInfo().userId,""):t.workflowService.getWorkFlowDoneList(t.userService.getUserInfo().userId,"");var e=t;l.then(function(l){e.selectedTitle=n,o.dismiss(),null!=l&&t.updateDatasource(l.slice())})})},n.prototype.toucheItem=function(n){var t=this.isToDo();this.utilService.routeToBySkipLocation("/workflowList",{title:n.pgmName,isToDo:t,searchParams:{startUser:"",content:"",pgmId:n.pgmId,tblName:n.tblName,startDtm:"",endDtm:"",type:1}},!0)},n.prototype.edit=function(n,t){alert("Edit Item: "+t.id)},n.prototype.share=function(n){alert("Share Item: "+n.id)},n.prototype.loadData=function(n){var t=this,o=null;o=this.isToDo()?this.workflowService.getWorkFlowTodoList(this.userService.getUserInfo().userId,""):this.workflowService.getWorkFlowDoneList(this.userService.getUserInfo().userId,""),null==n?this.utilService.showLoad().then(function(n){o.then(function(o){n.dismiss(),null!=o&&t.updateDatasource(o.slice())})}):o.then(function(o){n.target.complete(),null!=o&&t.updateDatasource(o.slice())})},n.prototype.updateDatasource=function(n){var t=this;this.items=n;var o=[],l={};for(var e in n.forEach(function(n){var o=t.workflowService.groupNameForProgramName(n.pgmName),e=l[o.name]||{title:o.name,rows:[]};l[o.name]=e,n.src=o.src,e.rows.push(n)}),l)"\u5176\u4ed6"==e?o.push(l[e]):o.unshift(l[e]);this.groups=o,console.debug(this.groups)},n}(),c=function(){return function(){}}(),a=o("pMnS"),u=o("oBZk"),s=o("Ip0R"),g=o("gIcY"),d=o("ZYCi"),p=o("BaxT"),b=o("LWby"),f=o("Ouoq"),h=o("ycxY"),m=l.mb({encapsulation:0,styles:[["[_ngcontent-%COMP%]:root{font-size:62.5%;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;--ion-background-color:#F8F8F8;--ion-color-primary:#4880FF;--ion-color-primary-rgb:72,128,255;--ion-color-primary-contrast:#ffffff;--ion-color-primary-contrast-rgb:255,255,255;--ion-color-primary-shade:#3f71e0;--ion-color-primary-tint:#5a8dff;--ion-color-secondary:#0cd1e8;--ion-color-secondary-rgb:12,209,232;--ion-color-secondary-contrast:#ffffff;--ion-color-secondary-contrast-rgb:255,255,255;--ion-color-secondary-shade:#0bb8cc;--ion-color-secondary-tint:#24d6ea;--ion-color-tertiary:#7044ff;--ion-color-tertiary-rgb:112,68,255;--ion-color-tertiary-contrast:#ffffff;--ion-color-tertiary-contrast-rgb:255,255,255;--ion-color-tertiary-shade:#633ce0;--ion-color-tertiary-tint:#7e57ff;--ion-color-success:#10dc60;--ion-color-success-rgb:16,220,96;--ion-color-success-contrast:#ffffff;--ion-color-success-contrast-rgb:255,255,255;--ion-color-success-shade:#0ec254;--ion-color-success-tint:#28e070;--ion-color-warning:#ffce00;--ion-color-warning-rgb:255,206,0;--ion-color-warning-contrast:#ffffff;--ion-color-warning-contrast-rgb:255,255,255;--ion-color-warning-shade:#e0b500;--ion-color-warning-tint:#ffd31a;--ion-color-danger:#f04141;--ion-color-danger-rgb:245,61,61;--ion-color-danger-contrast:#ffffff;--ion-color-danger-contrast-rgb:255,255,255;--ion-color-danger-shade:#d33939;--ion-color-danger-tint:#f25454;--ion-color-dark:#222428;--ion-color-dark-rgb:34,34,34;--ion-color-dark-contrast:#ffffff;--ion-color-dark-contrast-rgb:255,255,255;--ion-color-dark-shade:#1e2023;--ion-color-dark-tint:#383a3e;--ion-color-medium:#666666;--ion-color-medium-rgb:102,102,102;--ion-color-medium-contrast:#ffffff;--ion-color-medium-contrast-rgb:255,255,255;--ion-color-medium-shade:#5a5a5a;--ion-color-medium-tint:#757575;--ion-color-light:#F4F4F4;--ion-color-light-rgb:244,244,244;--ion-color-light-contrast:#000000;--ion-color-light-contrast-rgb:0,0,0;--ion-color-light-shade:#d7d7d7;--ion-color-light-tint:#f5f5f5;--placeholder-color:#CCCCCC!important;--position:fixed}ion-input[_ngcontent-%COMP%]{--placeholder-color:#CCCCCC!important;--placeholder-opacity:1!important}ion-searchbar[_ngcontent-%COMP%]{--placeholder-color:#8E8E93!important;--placeholder-opacity:1!important;height:36px!important;padding-left:0;padding-right:0;margin:12px 16px 0;width:calc(100% - 24px);background:#f4f4f4;border-radius:4px}ion-toast[_ngcontent-%COMP%]{text-align:center}.ion-page[_ngcontent-%COMP%] > ion-toolbar[_ngcontent-%COMP%]{padding-bottom:0;padding-bottom:env(safe-area-inset-bottom);border-bottom:1px solid #f3f3f3!important}.can-go-back[_ngcontent-%COMP%] > ion-toolbar[_ngcontent-%COMP%]{padding-bottom:0!important;padding-bottom:env(safe-area-inset-bottom)!important}.native-input[disabled].sc-ion-input-ios[_ngcontent-%COMP%]{opacity:1!important}.toast-ios[_ngcontent-%COMP%]{left:30%;width:40%}.toast-message[_ngcontent-%COMP%]{text-align:center}.clear[_ngcontent-%COMP%]{background:0 0;--background:transparent}.no-shadow[_ngcontent-%COMP%]{box-shadow:0 0 0 0 transparent}.border-bottom-full[_ngcontent-%COMP%]{border-bottom:1px solid #f3f3f3!important}.space-top[_ngcontent-%COMP%]{border-top:16px solid #d8d8d8!important}.lk-toast-image[_ngcontent-%COMP%]{margin:0!important}.lk-toast-content[_ngcontent-%COMP%]{padding:0!important}.div-seg-content[_ngcontent-%COMP%]{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-align-items:center;align-items:center;height:50px;background:#f8f8f8;margin-top:10px;padding-left:30px}ion-row[_ngcontent-%COMP%]{-webkit-align-items:flex-start!important;align-items:flex-start!important}.grid[_ngcontent-%COMP%]{margin:0;padding:0}.item-content[_ngcontent-%COMP%]{padding:16px 0 0;margin:0;position:relative;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;border:1px #d8d8d8}.item-content-badge[_ngcontent-%COMP%], .item-content-nobadge[_ngcontent-%COMP%]{padding:2px 1px 1px;min-width:16px;max-width:30%;height:16px;border-radius:8px;font-size:10px;text-align:center;vertical-align:middle;background-color:red;color:#fff;position:absolute;top:10px;right:calc(50% - 30px)}.item-content-nobadge[_ngcontent-%COMP%]{padding:0;height:10px;background-color:transparent}.segmented-button[_ngcontent-%COMP%]{position:relative;top:1px;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;font-size:14px;line-height:16px;color:#999;background-color:rgba(0,0,0,0);outline:0!important;padding:0;white-space:nowrap}.img-type-button[_ngcontent-%COMP%]{margin-right:12px;width:18px;height:18px;opacity:1}.disabled[_ngcontent-%COMP%]{opacity:.5}.segmentedContent[_ngcontent-%COMP%]:first-child{margin-right:16px}.segmented-button-highlight[_ngcontent-%COMP%]{color:#333;font-size:18px;font-weight:400}.segmentedContent[_ngcontent-%COMP%]{position:relative;margin:0;padding:0;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:center;justify-content:center;-webkit-align-items:flex-start;align-items:flex-start;width:82px}.span-accessory[_ngcontent-%COMP%]{position:absolute;bottom:-18px;left:calc(50% - 16px);width:32px;height:2px;border-radius:4px}.span-accessory-highlight[_ngcontent-%COMP%]{background:#4880ff}ion-card[_ngcontent-%COMP%]{margin:0!important;box-shadow:0 0 0 transparent!important}ion-card-header[_ngcontent-%COMP%]{padding:18px 16px 0!important}ion-card-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#333}ion-card-content[_ngcontent-%COMP%]{padding:0!important}ion-col[_ngcontent-%COMP%]{padding-top:24px}.item-content-img[_ngcontent-%COMP%]{-webkit-align-self:center;align-self:center;margin:0;width:44px;height:44px;border-radius:4px}.item-content-title[_ngcontent-%COMP%]{margin:8px 12px 0;font-size:14px;color:#666;text-align:center}.div-content-nodata[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;align-items:center}.img-nodata[_ngcontent-%COMP%]{margin:60px 0 0;width:300px;height:208px}.span-nodata-title[_ngcontent-%COMP%]{margin:23px 0 0;font-size:16px;line-height:16px;color:#666}.content_shape[_ngcontent-%COMP%]{box-shadow:0 2px 10px 0 rgba(0,0,0,.1);border-radius:16px 16px 0 0;padding-top:10px}"]],data:{}});function x(n){return l.Db(0,[(n()(),l.ob(0,0,null,null,3,"div",[["class","row segmentedContent"]],null,null,null,null,null)),(n()(),l.ob(1,0,null,null,1,"button",[["clear",""],["full",""],["ion-button",""],["outline",""]],[[8,"className",0]],[[null,"click"]],function(n,t,o){var l=!0;return"click"===t&&(l=!1!==n.component.selectedItem(n.context.$implicit)&&l),l},null,null)),(n()(),l.Cb(2,null,[" "," "])),(n()(),l.ob(3,0,null,null,0,"span",[],[[8,"className",0]],null,null,null,null))],null,function(n,t){var o=t.component;n(t,1,0,l.qb(1,"col segmented-button ",t.context.$implicit===o.selectedTitle?"segmented-button-highlight":"","")),n(t,2,0,t.context.$implicit),n(t,3,0,l.qb(1,"span-accessory ",t.context.$implicit===o.selectedTitle?"span-accessory-highlight":"",""))})}function w(n){return l.Db(0,[(n()(),l.ob(0,0,null,null,4,"ion-card-header",[],null,null,null,u.K,u.f)),l.nb(1,49152,null,0,e.o,[l.h,l.k],null,null),(n()(),l.ob(2,0,null,0,2,"ion-card-subtitle",[],null,null,null,u.L,u.g)),l.nb(3,49152,null,0,e.p,[l.h,l.k],null,null),(n()(),l.Cb(4,0,["",""]))],null,function(n,t){n(t,4,0,t.parent.context.$implicit.title)})}function y(n){return l.Db(0,[(n()(),l.ob(0,0,null,null,6,"ion-col",[["class","item-content"],["size","3"]],null,[[null,"click"]],function(n,t,o){var l=!0;return"click"===t&&(l=!1!==n.component.toucheItem(n.context.$implicit)&&l),l},u.O,u.i)),l.nb(1,49152,null,0,e.t,[l.h,l.k],{size:[0,"size"]},null),(n()(),l.ob(2,0,null,0,1,"span",[],[[8,"className",0]],null,null,null,null)),(n()(),l.Cb(3,null,["",""])),(n()(),l.ob(4,0,null,0,0,"img",[["class","item-content-img"],["onerror","this.src='./assets/icon/common.png'"]],[[8,"src",4]],null,null,null,null)),(n()(),l.ob(5,0,null,0,1,"span",[["class","item-content-title"]],null,null,null,null,null)),(n()(),l.Cb(6,null,[" "," "]))],function(n,t){n(t,1,0,"3")},function(n,t){n(t,2,0,l.qb(1,"",t.context.$implicit.count>0?"item-content-badge":"item-content-nobadge","")),n(t,3,0,t.context.$implicit.count),n(t,4,0,t.context.$implicit.src),n(t,6,0,t.context.$implicit.pgmName)})}function k(n){return l.Db(0,[(n()(),l.ob(0,0,null,null,9,"ion-card",[],null,null,null,u.M,u.d)),l.nb(1,49152,null,0,e.m,[l.h,l.k],null,null),(n()(),l.fb(16777216,null,0,1,null,w)),l.nb(3,16384,null,0,s.i,[l.N,l.K],{ngIf:[0,"ngIf"]},null),(n()(),l.ob(4,0,null,0,5,"ion-card-content",[],null,null,null,u.J,u.e)),l.nb(5,49152,null,0,e.n,[l.h,l.k],null,null),(n()(),l.ob(6,0,null,0,3,"ion-row",[["wrap",""]],null,null,null,u.fb,u.z)),l.nb(7,49152,null,0,e.ib,[l.h,l.k],null,null),(n()(),l.fb(16777216,null,0,1,null,y)),l.nb(9,278528,null,0,s.h,[l.N,l.K,l.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,3,0,t.component.groups.length>1),n(t,9,0,t.context.$implicit.rows)},null)}function C(n){return l.Db(0,[(n()(),l.ob(0,0,null,null,3,"div",[["class","div-content-nodata"]],null,null,null,null,null)),(n()(),l.ob(1,0,null,null,0,"img",[["class","img-nodata"],["src","./assets/icon/nodata.png"]],null,null,null,null,null)),(n()(),l.ob(2,0,null,null,1,"span",[["class","span-nodata-title"]],null,null,null,null,null)),(n()(),l.Cb(-1,null,["\uff5e\u6682\u65e0\u65b0\u7684\u5ba1\u6279\u54e6\uff5e"]))],null,null)}function v(n){return l.Db(0,[(n()(),l.ob(0,0,null,null,13,"ion-header",[["class","bar-positive"],["style","background: white;"],["translucent",""]],null,null,null,u.S,u.m)),l.nb(1,49152,null,0,e.B,[l.h,l.k],{translucent:[0,"translucent"]},null),(n()(),l.ob(2,0,null,0,8,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,o){var e=!0;return"submit"===t&&(e=!1!==l.yb(n,4).onSubmit(o)&&e),"reset"===t&&(e=!1!==l.yb(n,4).onReset()&&e),e},null,null)),l.nb(3,16384,null,0,g.j,[],null,null),l.nb(4,4210688,null,0,g.g,[[8,null],[8,null]],null,null),l.zb(2048,null,g.a,null,[g.g]),l.nb(6,16384,null,0,g.f,[[4,g.a]],null,null),(n()(),l.ob(7,0,null,null,3,"ion-searchbar",[["cancelButtonText","\u53d6\u6d88"],["color","light"],["debounce","0"],["placeholder","\u8bf7\u8f93\u5165\u5173\u952e\u5b57"]],null,[[null,"ionChange"],[null,"search"],[null,"ionBlur"]],function(n,t,o){var e=!0,i=n.component;return"ionBlur"===t&&(e=!1!==l.yb(n,10)._handleBlurEvent()&&e),"ionChange"===t&&(e=!1!==l.yb(n,10)._handleInputEvent(o.target.value)&&e),"ionChange"===t&&(e=!1!==i.keywordChange(o)&&e),"search"===t&&(e=!1!==i.searchKeyWord()&&e),e},u.gb,u.A)),l.zb(5120,null,g.c,function(n){return[n]},[e.Kb]),l.nb(9,49152,null,0,e.jb,[l.h,l.k],{color:[0,"color"],cancelButtonText:[1,"cancelButtonText"],debounce:[2,"debounce"],placeholder:[3,"placeholder"]},null),l.nb(10,16384,null,0,e.Kb,[l.k],null,null),(n()(),l.ob(11,0,null,0,2,"div",[["class","div-seg-content"]],null,null,null,null,null)),(n()(),l.fb(16777216,null,null,1,null,x)),l.nb(13,278528,null,0,s.h,[l.N,l.K,l.s],{ngForOf:[0,"ngForOf"]},null),(n()(),l.ob(14,0,null,null,9,"ion-content",[["class","content_shape"],["color","white"],["style","background-image: url('./assets/icon/login_bg.png');"]],null,null,null,u.P,u.j)),l.nb(15,49152,null,0,e.u,[l.h,l.k],{color:[0,"color"]},null),(n()(),l.ob(16,0,null,0,3,"ion-refresher",[["style","z-index: 2;"]],null,[[null,"ionRefresh"]],function(n,t,o){var l=!0;return"ionRefresh"===t&&(l=!1!==n.component.loadData(o)&&l),l},u.eb,u.x)),l.nb(17,49152,null,0,e.cb,[l.h,l.k],null,null),(n()(),l.ob(18,0,null,0,1,"ion-refresher-content",[["pullingText","\u4e0b\u62c9\u5237\u65b0"],["refreshingText","\u5237\u65b0\u4e2d"]],null,null,null,u.db,u.y)),l.nb(19,49152,null,0,e.db,[l.h,l.k],{pullingText:[0,"pullingText"],refreshingText:[1,"refreshingText"]},null),(n()(),l.fb(16777216,null,0,1,null,k)),l.nb(21,278528,null,0,s.h,[l.N,l.K,l.s],{ngForOf:[0,"ngForOf"]},null),(n()(),l.fb(16777216,null,0,1,null,C)),l.nb(23,16384,null,0,s.i,[l.N,l.K],{ngIf:[0,"ngIf"]},null)],function(n,t){var o=t.component;n(t,1,0,""),n(t,9,0,"light","\u53d6\u6d88","0","\u8bf7\u8f93\u5165\u5173\u952e\u5b57"),n(t,13,0,o.segmentedTitles),n(t,15,0,"white"),n(t,19,0,"\u4e0b\u62c9\u5237\u65b0","\u5237\u65b0\u4e2d"),n(t,21,0,o.groups),n(t,23,0,o.groups&&o.groups.length<1)},function(n,t){n(t,2,0,l.yb(t,6).ngClassUntouched,l.yb(t,6).ngClassTouched,l.yb(t,6).ngClassPristine,l.yb(t,6).ngClassDirty,l.yb(t,6).ngClassValid,l.yb(t,6).ngClassInvalid,l.yb(t,6).ngClassPending)})}function O(n){return l.Db(0,[(n()(),l.ob(0,0,null,null,1,"workflow-type",[],null,null,null,v,m)),l.nb(1,114688,null,0,r,[e.f,d.m,p.a,b.a,f.a,h.a,i.a],null,null)],function(n,t){n(t,1,0)},null)}var P=l.kb("workflow-type",r,O,{},{},[]);o.d(t,"WorkflowTypePageModuleNgFactory",function(){return _});var _=l.lb(c,[],function(n){return l.vb([l.wb(512,l.j,l.ab,[[8,[a.a,P]],[3,l.j],l.x]),l.wb(4608,s.k,s.j,[l.u,[2,s.q]]),l.wb(4608,g.k,g.k,[]),l.wb(4608,e.c,e.c,[l.z,l.g]),l.wb(4608,e.Gb,e.Gb,[e.c,l.j,l.q,s.c]),l.wb(4608,e.Jb,e.Jb,[e.c,l.j,l.q,s.c]),l.wb(1073742336,s.b,s.b,[]),l.wb(1073742336,g.i,g.i,[]),l.wb(1073742336,g.b,g.b,[]),l.wb(1073742336,e.Db,e.Db,[]),l.wb(1073742336,d.n,d.n,[[2,d.t],[2,d.m]]),l.wb(1073742336,c,c,[]),l.wb(1024,d.k,function(){return[[{path:"",component:r}]]},[])])})}}]);